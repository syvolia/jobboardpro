{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/syvoliamary/Downloads/jobboardpro/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables')\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,mOAAY,EAAC,aAAa"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///Users/syvoliamary/Downloads/jobboardpro/services/jobService.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase'\n\nexport interface Job {\n  id: string\n  title: string\n  description: string\n  company_id: string\n  companies: {\n    name: string\n    logo_url: string\n    headquarters_location: string\n  }\n  remote_level: 'remote' | 'hybrid' | 'onsite'\n  job_type: 'full-time' | 'part-time' | 'contract'\n  location: string\n  salary_min: number\n  salary_max: number\n  salary_currency: string\n  required_tech_stack: string[]\n  experience_level: string\n  posting_date: string\n  created_at: string\n  application_url?: string\n}\n\nexport interface SavedJob {\n  id: string\n  job_id: string\n  user_id: string\n  saved_at: string\n  notes: string\n  priority: number\n  jobs: Job\n}\n\nexport interface JobApplication {\n  id: string\n  job_id: string\n  user_id: string\n  status: 'applied' | 'interviewing' | 'rejected' | 'offered' | 'accepted'\n  applied_at: string\n  cover_letter: string\n  notes: string\n  follow_up_date: string\n  interview_date: string\n  offer_details: any\n  jobs: Job\n}\n\nexport class JobService {\n  // ... existing getJobs and searchJobs methods ...\n\n  // SAVE JOB FUNCTIONALITY\n  static async saveJob(userId: string, jobId: string, notes: string = '', priority: number = 1): Promise<boolean> {\n    const { error } = await supabase\n      .from('user_saved_jobs')\n      .insert([\n        {\n          user_id: userId,\n          job_id: jobId,\n          notes,\n          priority,\n        },\n      ])\n      .select()\n\n    if (error) {\n      console.error('Error saving job:', error)\n      return false\n    }\n    return true\n  }\n\n  static async unsaveJob(userId: string, jobId: string): Promise<boolean> {\n    const { error } = await supabase\n      .from('user_saved_jobs')\n      .delete()\n      .eq('user_id', userId)\n      .eq('job_id', jobId)\n\n    if (error) {\n      console.error('Error unsaving job:', error)\n      return false\n    }\n    return true\n  }\n\n  static async getSavedJobs(userId: string): Promise<SavedJob[]> {\n    const { data, error } = await supabase\n      .from('user_saved_jobs')\n      .select(`\n        *,\n        jobs (\n          *,\n          companies (\n            name,\n            logo_url,\n            headquarters_location\n          )\n        )\n      `)\n      .eq('user_id', userId)\n      .order('saved_at', { ascending: false })\n\n    if (error) {\n      console.error('Error fetching saved jobs:', error)\n      return []\n    }\n    return data || []\n  }\n\n  // APPLICATION TRACKING\n  static async applyToJob(\n    userId: string, \n    jobId: string, \n    coverLetter: string = '', \n    notes: string = ''\n  ): Promise<boolean> {\n    const { error } = await supabase\n      .from('user_applications')\n      .insert([\n        {\n          user_id: userId,\n          job_id: jobId,\n          cover_letter: coverLetter,\n          notes,\n          status: 'applied',\n        },\n      ])\n\n    if (error) {\n      console.error('Error applying to job:', error)\n      return false\n    }\n    return true\n  }\n\n  static async updateApplicationStatus(\n    applicationId: string, \n    status: JobApplication['status'],\n    notes?: string\n  ): Promise<boolean> {\n    const updates: any = { status }\n    if (notes) updates.notes = notes\n\n    const { error } = await supabase\n      .from('user_applications')\n      .update(updates)\n      .eq('id', applicationId)\n\n    if (error) {\n      console.error('Error updating application:', error)\n      return false\n    }\n    return true\n  }\n\n  static async getApplications(userId: string): Promise<JobApplication[]> {\n    const { data, error } = await supabase\n      .from('user_applications')\n      .select(`\n        *,\n        jobs (\n          *,\n          companies (\n            name,\n            logo_url,\n            headquarters_location\n          )\n        )\n      `)\n      .eq('user_id', userId)\n      .order('applied_at', { ascending: false })\n\n    if (error) {\n      console.error('Error fetching applications:', error)\n      return []\n    }\n    return data || []\n  }\n\n  static async getApplicationStats(userId: string) {\n    const { data, error } = await supabase\n      .from('user_applications')\n      .select('status')\n      .eq('user_id', userId)\n\n    if (error) {\n      console.error('Error fetching stats:', error)\n      return null\n    }\n\n    const stats = {\n      total: data.length,\n      applied: data.filter(app => app.status === 'applied').length,\n      interviewing: data.filter(app => app.status === 'interviewing').length,\n      rejected: data.filter(app => app.status === 'rejected').length,\n      offered: data.filter(app => app.status === 'offered').length,\n      accepted: data.filter(app => app.status === 'accepted').length,\n    }\n\n    return stats\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///Users/syvoliamary/Downloads/jobboardpro/app/page.tsx"],"sourcesContent":["// Add these imports\nimport { useUser } from \"@/contexts/UserContext\";\nimport { JobService } from \"@/services/jobService\";\n\n// Add to your component\nconst { user } = useUser();\nconst [savedJobs, setSavedJobs] = useState<Set<string>>(new Set());\nconst [appliedJobs, setAppliedJobs] = useState<Set<string>>(new Set());\n\n// Load user's saved and applied jobs\nuseEffect(() => {\n  if (user) {\n    loadUserData();\n  }\n}, [user]);\n\nconst loadUserData = async () => {\n  if (!user) return;\n\n  try {\n    // Load saved jobs\n    const saved = await JobService.getSavedJobs(user.id);\n    setSavedJobs(new Set(saved.map((job) => job.job_id)));\n\n    // Load applied jobs\n    const applications = await JobService.getApplications(user.id);\n    setAppliedJobs(new Set(applications.map((app) => app.job_id)));\n  } catch (error) {\n    console.error(\"Error loading user data:\", error);\n  }\n};\n\n// Update the handleSave and handleApply functions to use the service\nconst handleSave = async (id: string, saved: boolean) => {\n  setSavedJobs((prev) => {\n    const newSet = new Set(prev);\n    if (saved) {\n      newSet.add(id);\n    } else {\n      newSet.delete(id);\n    }\n    return newSet;\n  });\n};\n\nconst handleApply = async (id: string) => {\n  setAppliedJobs((prev) => new Set(prev.add(id)));\n};\n"],"names":[],"mappings":"AAAA,oBAAoB;;AACpB;AACA;;;AAEA,wBAAwB;AACxB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,+JAAO;AACxB,MAAM,CAAC,WAAW,aAAa,GAAG,SAAsB,IAAI;AAC5D,MAAM,CAAC,aAAa,eAAe,GAAG,SAAsB,IAAI;AAEhE,qCAAqC;AACrC,UAAU;IACR,IAAI,MAAM;QACR;IACF;AACF,GAAG;IAAC;CAAK;AAET,MAAM,eAAe;IACnB,IAAI,CAAC,MAAM;IAEX,IAAI;QACF,kBAAkB;QAClB,MAAM,QAAQ,MAAM,gKAAU,CAAC,YAAY,CAAC,KAAK,EAAE;QACnD,aAAa,IAAI,IAAI,MAAM,GAAG,CAAC,CAAC,MAAQ,IAAI,MAAM;QAElD,oBAAoB;QACpB,MAAM,eAAe,MAAM,gKAAU,CAAC,eAAe,CAAC,KAAK,EAAE;QAC7D,eAAe,IAAI,IAAI,aAAa,GAAG,CAAC,CAAC,MAAQ,IAAI,MAAM;IAC7D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;IAC5C;AACF;AAEA,qEAAqE;AACrE,MAAM,aAAa,OAAO,IAAY;IACpC,aAAa,CAAC;QACZ,MAAM,SAAS,IAAI,IAAI;QACvB,IAAI,OAAO;YACT,OAAO,GAAG,CAAC;QACb,OAAO;YACL,OAAO,MAAM,CAAC;QAChB;QACA,OAAO;IACT;AACF;AAEA,MAAM,cAAc,OAAO;IACzB,eAAe,CAAC,OAAS,IAAI,IAAI,KAAK,GAAG,CAAC;AAC5C"}}]
}