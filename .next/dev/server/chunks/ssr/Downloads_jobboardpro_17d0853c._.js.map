{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/syvoliamary/Downloads/jobboardpro/services/logoUploadService.ts"],"sourcesContent":["// services/logoUploadService.ts\nimport { supabase } from '@/lib/supabase';\n\nexport interface UploadResult {\n  success: boolean;\n  url?: string;\n  error?: string;\n  companyName: string;\n}\n\nexport class LogoUploadService {\n  private static BUCKET_NAME = 'logos';\n\n  // Upload a single logo\n  static async uploadLogo(file: File, companyName: string): Promise<UploadResult> {\n    try {\n      console.log(`üì§ Uploading logo for ${companyName}...`);\n      \n      // Validate file\n      if (!this.isValidImageFile(file)) {\n        return {\n          success: false,\n          error: 'Invalid file type. Please use PNG, JPG, or SVG.',\n          companyName\n        };\n      }\n\n      // Generate safe file name\n      const fileName = this.generateFileName(companyName, file.name);\n      const filePath = `${fileName}`;\n\n      // Upload to Supabase Storage\n      const { data, error } = await supabase.storage\n        .from(this.BUCKET_NAME)\n        .upload(filePath, file, {\n          cacheControl: '3600',\n          upsert: true // Overwrite if exists\n        });\n\n      if (error) {\n        console.error(`‚ùå Upload failed for ${companyName}:`, error);\n        return {\n          success: false,\n          error: error.message,\n          companyName\n        };\n      }\n\n      // Get public URL\n      const { data: { publicUrl } } = supabase.storage\n        .from(this.BUCKET_NAME)\n        .getPublicUrl(filePath);\n\n      console.log(`‚úÖ Logo uploaded for ${companyName}: ${publicUrl}`);\n      \n      return {\n        success: true,\n        url: publicUrl,\n        companyName\n      };\n\n    } catch (error: any) {\n      console.error(`‚ùå Unexpected error uploading logo for ${companyName}:`, error);\n      return {\n        success: false,\n        error: error.message,\n        companyName\n      };\n    }\n  }\n\n  // Batch upload multiple logos\n  static async uploadMultipleLogos(\n    files: { file: File; companyName: string }[]\n  ): Promise<UploadResult[]> {\n    console.log(`üîÑ Starting batch upload of ${files.length} logos...`);\n    \n    const results: UploadResult[] = [];\n\n    // Upload files sequentially to avoid rate limiting\n    for (const { file, companyName } of files) {\n      const result = await this.uploadLogo(file, companyName);\n      results.push(result);\n      \n      // Small delay between uploads\n      await new Promise(resolve => setTimeout(resolve, 500));\n    }\n\n    const successful = results.filter(r => r.success).length;\n    console.log(`üéâ Batch upload complete: ${successful}/${files.length} successful`);\n    \n    return results;\n  }\n\n  // Get all uploaded logos\n  static async listUploadedLogos(): Promise<string[]> {\n    try {\n      const { data, error } = await supabase.storage\n        .from(this.BUCKET_NAME)\n        .list();\n\n      if (error) {\n        console.error('Error listing logos:', error);\n        return [];\n      }\n\n      return data.map(item => item.name);\n    } catch (error) {\n      console.error('Error listing logos:', error);\n      return [];\n    }\n  }\n\n  // Delete a logo\n  static async deleteLogo(fileName: string): Promise<boolean> {\n    try {\n      const { error } = await supabase.storage\n        .from(this.BUCKET_NAME)\n        .remove([fileName]);\n\n      if (error) {\n        console.error('Error deleting logo:', error);\n        return false;\n      }\n\n      console.log(`‚úÖ Logo deleted: ${fileName}`);\n      return true;\n    } catch (error) {\n      console.error('Error deleting logo:', error);\n      return false;\n    }\n  }\n\n  // Generate consistent file names\n  private static generateFileName(companyName: string, originalFileName: string): string {\n    const cleanCompanyName = companyName\n      .toLowerCase()\n      .replace(/[^a-z0-9]/g, '-')\n      .replace(/-+/g, '-')\n      .replace(/^-|-$/g, '');\n\n    const fileExtension = originalFileName.split('.').pop()?.toLowerCase() || 'png';\n    \n    return `${cleanCompanyName}.${fileExtension}`;\n  }\n\n  // Validate file type\n  private static isValidImageFile(file: File): boolean {\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/svg+xml'];\n    const maxSize = 5 * 1024 * 1024; // 5MB\n\n    if (!allowedTypes.includes(file.type)) {\n      return false;\n    }\n\n    if (file.size > maxSize) {\n      return false;\n    }\n\n    return true;\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///Users/syvoliamary/Downloads/jobboardpro/services/jobService.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase'\n\nexport interface Job {\n  id: string\n  title: string\n  description: string\n  company_id: string\n  companies: {\n    name: string\n    logo_url: string\n    headquarters_location: string\n  }\n  remote_level: 'remote' | 'hybrid' | 'onsite'\n  job_type: 'full-time' | 'part-time' | 'contract'\n  location: string\n  salary_min: number\n  salary_max: number\n  salary_currency: string\n  required_tech_stack: string[]\n  experience_level: string\n  posting_date: string\n  created_at: string\n  application_url?: string\n}\n\nexport interface SavedJob {\n  id: string\n  job_id: string\n  user_id: string\n  saved_at: string\n  notes: string\n  priority: number\n  jobs: Job\n}\n\nexport interface JobApplication {\n  id: string\n  job_id: string\n  user_id: string\n  status: 'applied' | 'interviewing' | 'rejected' | 'offered' | 'accepted'\n  applied_at: string\n  cover_letter: string\n  notes: string\n  follow_up_date: string\n  interview_date: string\n  offer_details: any\n  jobs: Job\n}\n\nexport class JobService {\n  // NEW: Logo URL validation and storage methods\n  private static isValidLogoUrl(url?: string): boolean {\n    if (!url || url.trim() === '') return false;\n    \n    // Check if it's a real image URL or just an example\n    const invalidDomains = [\n      'placeholder.example.com',\n      'example.com',\n      'your-domain.com',\n      'placeholder.com',\n      'via.placeholder.com' // We'll use our own fallback instead\n    ];\n    \n    return !invalidDomains.some(domain => url.includes(domain));\n  }\n\n  private static getFallbackLogoUrl(companyName: string): string {\n    const initial = companyName.charAt(0).toUpperCase();\n    const colors = [\n      '3B82F6', 'EF4444', '10B981', 'F59E0B', '8B5CF6', \n      'EC4899', '06B6D4', '84CC16', 'F97316', '6366F1'\n    ];\n    const color = colors[companyName.charCodeAt(0) % colors.length];\n    \n    return `https://via.placeholder.com/100x100/${color}/FFFFFF?text=${initial}`;\n  }\n\n  // NEW: Get logo URL with Supabase Storage fallback\n  private static async getLogoUrl(companyName: string, currentLogoUrl?: string): Promise<string> {\n    // If current URL is valid, use it\n    if (this.isValidLogoUrl(currentLogoUrl)) {\n      return currentLogoUrl!;\n    }\n\n    // Try to find in Supabase Storage\n    const storageUrl = await this.findLogoInStorage(companyName);\n    if (storageUrl) {\n      return storageUrl;\n    }\n\n    // Fallback to placeholder\n    return this.getFallbackLogoUrl(companyName);\n  }\n\n  // NEW: Check if logo exists in Supabase Storage\n  private static async findLogoInStorage(companyName: string): Promise<string | null> {\n    try {\n      const fileName = this.generateStorageFileName(companyName);\n      \n      // Check if file exists by trying to get its URL\n      const { data: { publicUrl } } = supabase.storage\n        .from('logos')\n        .getPublicUrl(fileName);\n\n      // Test if the URL is accessible (with timeout)\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 3000);\n      \n      try {\n        const response = await fetch(publicUrl, { \n          method: 'HEAD',\n          signal: controller.signal \n        });\n        clearTimeout(timeoutId);\n        \n        if (response.ok) {\n          return publicUrl;\n        }\n      } catch {\n        // If fetch fails, the logo doesn't exist\n        clearTimeout(timeoutId);\n      }\n      \n      return null;\n    } catch (error) {\n      console.error('Error checking storage for logo:', error);\n      return null;\n    }\n  }\n\n  // NEW: Generate consistent file name for storage lookup\n  private static generateStorageFileName(companyName: string): string {\n    return companyName\n      .toLowerCase()\n      .replace(/[^a-z0-9]/g, '-')\n      .replace(/-+/g, '-')\n      .replace(/^-|-$/g, '') + '.png';\n  }\n\n  // UPDATED: getJobs with async logo URL resolution\n  static async getJobs(filters?: any): Promise<Job[]> {\n    let query = supabase\n      .from('jobs')\n      .select(`\n        *,\n        companies (\n          name,\n          logo_url,\n          headquarters_location\n        )\n      `)\n      .eq('status', 'active')\n\n    // Apply filters if provided\n    if (filters?.searchQuery) {\n      query = query.textSearch('title', filters.searchQuery)\n    }\n\n    if (filters?.remoteOptions?.length) {\n      query = query.in('remote_level', filters.remoteOptions)\n    }\n\n    if (filters?.jobTypes?.length) {\n      query = query.in('job_type', filters.jobTypes)\n    }\n\n    if (filters?.techStack?.length) {\n      query = query.overlaps('required_tech_stack', filters.techStack)\n    }\n\n    // LOCATION FILTER\n    if (filters?.locations?.length) {\n      const locationConditions = filters.locations.map((location: any) => \n        `location.ilike.%${location}%,companies.headquarters_location.ilike.%${location}%`\n      ).join(',')\n      \n      query = query.or(locationConditions)\n    }\n\n    const { data, error } = await query\n\n    if (error) {\n      console.error('Error fetching jobs:', error)\n      return []\n    }\n\n    // Use Promise.all to handle async logo URL resolution\n    const jobsWithLogos = await Promise.all(\n      (data || []).map(async (job) => {\n        const finalLogoUrl = await this.getLogoUrl(\n          job.companies?.name || 'Company', \n          job.companies?.logo_url\n        );\n        \n        console.log('üîç Job logo debug:', {\n          company: job.companies?.name,\n          originalLogo: job.companies?.logo_url,\n          finalLogo: finalLogoUrl\n        });\n        \n        return {\n          ...job,\n          companies: {\n            ...job.companies,\n            logo_url: finalLogoUrl,\n          }\n        };\n      })\n    );\n\n    return jobsWithLogos\n  }\n\n  // UPDATED: SEARCH JOBS METHOD with async logo URLs\n  static async searchJobs(searchQuery: string): Promise<Job[]> {\n    if (!searchQuery.trim()) {\n      return this.getJobs()\n    }\n\n    const { data, error } = await supabase\n      .from('jobs')\n      .select(`\n        *,\n        companies (\n          name,\n          logo_url,\n          headquarters_location\n        )\n      `)\n      .eq('status', 'active')\n      .or(`title.ilike.%${searchQuery}%,description.ilike.%${searchQuery}%,companies.name.ilike.%${searchQuery}%`)\n\n    if (error) {\n      console.error('Error searching jobs:', error)\n      return []\n    }\n\n    // Use Promise.all to handle async logo URL resolution\n    const jobsWithLogos = await Promise.all(\n      (data || []).map(async (job) => {\n        const finalLogoUrl = await this.getLogoUrl(\n          job.companies?.name || 'Company', \n          job.companies?.logo_url\n        );\n        \n        return {\n          ...job,\n          companies: {\n            ...job.companies,\n            logo_url: finalLogoUrl,\n          }\n        };\n      })\n    );\n\n    return jobsWithLogos\n  }\n\n  // SAVE JOB FUNCTIONALITY (unchanged)\n  static async saveJob(userId: string, jobId: string, notes: string = ''): Promise<boolean> {\n    console.log('üíæ Saving job:', { userId, jobId, notes })\n    \n    try {\n      const { error } = await supabase\n        .from('user_saved_jobs')\n        .insert([\n          {\n            user_id: userId,\n            job_id: jobId,\n            notes,\n          },\n        ])\n\n      if (error) {\n        console.error('‚ùå Error saving job:', error)\n        return false\n      }\n      \n      console.log('‚úÖ Job saved successfully')\n      return true\n    } catch (error) {\n      console.error('‚ùå Unexpected error saving job:', error)\n      return false\n    }\n  }\n\n  static async unsaveJob(userId: string, jobId: string): Promise<boolean> {\n    console.log('üóëÔ∏è Unsaving job:', { userId, jobId })\n    \n    try {\n      const { error } = await supabase\n        .from('user_saved_jobs')\n        .delete()\n        .eq('user_id', userId)\n        .eq('job_id', jobId)\n\n      if (error) {\n        console.error('‚ùå Error unsaving job:', error)\n        return false\n      }\n      \n      console.log('‚úÖ Job unsaved successfully')\n      return true\n    } catch (error) {\n      console.error('‚ùå Unexpected error unsaving job:', error)\n      return false\n    }\n  }\n\n  // UPDATED: GET SAVED JOBS with async logo URLs\n  static async getSavedJobs(userId: string): Promise<SavedJob[]> {\n    try {\n      console.log('üîÑ Fetching saved jobs for user:', userId)\n      \n      // First, get the saved job IDs\n      const { data: savedData, error: savedError } = await supabase\n        .from('user_saved_jobs')\n        .select('*')\n        .eq('user_id', userId)\n        .order('saved_at', { ascending: false })\n\n      if (savedError) {\n        console.error('‚ùå Error fetching saved job records:', savedError)\n        return []\n      }\n\n      console.log('üìã Saved job records:', savedData)\n\n      if (!savedData || savedData.length === 0) {\n        console.log('‚ÑπÔ∏è No saved jobs found for user')\n        return []\n      }\n\n      // Then, get the actual job details for each saved job\n      const jobIds = savedData.map(item => item.job_id)\n      const { data: jobsData, error: jobsError } = await supabase\n        .from('jobs')\n        .select(`\n          *,\n          companies (\n            name,\n            logo_url,\n            headquarters_location\n          )\n        `)\n        .in('id', jobIds)\n\n      if (jobsError) {\n        console.error('‚ùå Error fetching job details:', jobsError)\n        return []\n      }\n\n      console.log('üíº Job details found:', jobsData?.length || 0)\n\n      // Combine the data with proper logo handling\n      const combinedData = await Promise.all(\n        savedData.map(async (savedItem) => {\n          const job = jobsData?.find(j => j.id === savedItem.job_id)\n          if (!job) return null;\n\n          const finalLogoUrl = await this.getLogoUrl(\n            job.companies?.name || 'Company',\n            job.companies?.logo_url\n          );\n\n          return {\n            ...savedItem,\n            jobs: {\n              ...job,\n              companies: {\n                ...job.companies,\n                logo_url: finalLogoUrl,\n              }\n            }\n          };\n        })\n      );\n\n      const filteredData = combinedData.filter(item => item !== null) as SavedJob[];\n      console.log('üéØ Combined saved jobs:', filteredData);\n      return filteredData;\n\n    } catch (error) {\n      console.error('‚ùå Unexpected error in getSavedJobs:', error)\n      return []\n    }\n  }\n\n  // UPDATED: APPLICATION TRACKING WITH COMPREHENSIVE DEBUGGING\n  static async applyToJob(\n    userId: string, \n    jobId: string, \n    coverLetter: string = '', \n    notes: string = ''\n  ): Promise<boolean> {\n    console.log('üîç DEBUG applyToJob - Starting:', { userId, jobId, coverLetter, notes });\n    \n    try {\n      // Validate inputs\n      if (!userId || !jobId) {\n        console.error('‚ùå Missing required fields:', { userId, jobId });\n        return false;\n      }\n\n      // Check if application already exists\n      console.log('üîç Checking for existing application...');\n      const { data: existingApp, error: checkError } = await supabase\n        .from('user_applications')\n        .select('id')\n        .eq('user_id', userId)\n        .eq('job_id', jobId)\n        .maybeSingle(); // Use maybeSingle instead of single\n\n      if (checkError) {\n        console.error('‚ùå Error checking existing application:', checkError);\n        // Continue anyway, as this might not be critical\n      }\n\n      if (existingApp) {\n        console.log('‚ÑπÔ∏è Application already exists:', existingApp.id);\n        // Return true since the application already exists\n        return true;\n      }\n\n      // Insert new application\n      console.log('üìù Inserting new application...');\n      const { data, error } = await supabase\n        .from('user_applications')\n        .insert([\n          {\n            user_id: userId,\n            job_id: jobId,\n            cover_letter: coverLetter,\n            notes: notes,\n            status: 'applied',\n          },\n        ])\n        .select()\n        .single();\n\n      if (error) {\n        console.error('‚ùå Supabase error:', {\n          code: error.code,\n          message: error.message,\n          details: error.details,\n          hint: error.hint\n        });\n\n        // Handle specific error cases\n        if (error.code === '23503') { // Foreign key violation\n          console.error('‚ùå Foreign key violation - user or job does not exist');\n          return false;\n        }\n        if (error.code === '23505') { // Unique violation\n          console.error('‚ùå Unique violation - application already exists');\n          return true; // Application already exists\n        }\n\n        return false;\n      }\n\n      console.log('‚úÖ Application created successfully:', data);\n      return true;\n      \n    } catch (error: any) {\n      console.error('‚ùå Unexpected error:', {\n        message: error.message,\n        stack: error.stack,\n        name: error.name\n      });\n      return false;\n    }\n  }\n\n  // TEMPORARY DEBUG FUNCTION - Use this for testing\n  static async testApplication(userId: string, jobId: string): Promise<boolean> {\n    console.log('üß™ TEST: Starting application test');\n    console.log('üë§ User ID:', userId);\n    console.log('üíº Job ID:', jobId);\n    \n    const success = await this.applyToJob(userId, jobId);\n    console.log('üß™ TEST Result:', success);\n    \n    return success;\n  }\n\n  static async updateApplicationStatus(\n    applicationId: string, \n    status: JobApplication['status'],\n    notes?: string\n  ): Promise<boolean> {\n    console.log('üîÑ Updating application status:', { applicationId, status, notes });\n    \n    const updates: any = { status }\n    if (notes) updates.notes = notes\n\n    const { error } = await supabase\n      .from('user_applications')\n      .update(updates)\n      .eq('id', applicationId)\n\n    if (error) {\n      console.error('‚ùå Error updating application:', error)\n      return false\n    }\n    \n    console.log('‚úÖ Application status updated successfully');\n    return true\n  }\n\n  // UPDATED: GET APPLICATIONS with async logo URLs\n  static async getApplications(userId: string): Promise<JobApplication[]> {\n    console.log('üîÑ Fetching applications for user:', userId);\n    \n    const { data, error } = await supabase\n      .from('user_applications')\n      .select(`\n        *,\n        jobs (\n          *,\n          companies (\n            name,\n            logo_url,\n            headquarters_location\n          )\n        )\n      `)\n      .eq('user_id', userId)\n      .order('applied_at', { ascending: false })\n\n    if (error) {\n      console.error('‚ùå Error fetching applications:', error)\n      return []\n    }\n\n    // Use Promise.all to handle async logo URL resolution\n    const applicationsWithLogos = await Promise.all(\n      (data || []).map(async (application) => {\n        if (!application.jobs) return application;\n\n        const finalLogoUrl = await this.getLogoUrl(\n          application.jobs.companies?.name || 'Company',\n          application.jobs.companies?.logo_url\n        );\n\n        return {\n          ...application,\n          jobs: {\n            ...application.jobs,\n            companies: {\n              ...application.jobs.companies,\n              logo_url: finalLogoUrl,\n            }\n          }\n        };\n      })\n    );\n    \n    console.log('‚úÖ Applications fetched:', applicationsWithLogos?.length || 0);\n    return applicationsWithLogos\n  }\n\n  static async getApplicationStats(userId: string) {\n    console.log('üìä Fetching application stats for user:', userId);\n    \n    const { data, error } = await supabase\n      .from('user_applications')\n      .select('status')\n      .eq('user_id', userId)\n\n    if (error) {\n      console.error('‚ùå Error fetching stats:', error)\n      return null\n    }\n\n    const stats = {\n      total: data.length,\n      applied: data.filter(app => app.status === 'applied').length,\n      interviewing: data.filter(app => app.status === 'interviewing').length,\n      rejected: data.filter(app => app.status === 'rejected').length,\n      offered: data.filter(app => app.status === 'offered').length,\n      accepted: data.filter(app => app.status === 'accepted').length,\n    }\n\n    console.log('üìä Application stats:', stats);\n    return stats\n  }\n\n  // NEW: Batch update all companies with storage logos\n  static async migrateToSupabaseStorage(): Promise<{ updated: number; failed: number }> {\n    try {\n      console.log('üîÑ Migrating company logos to Supabase Storage...');\n      \n      const { data: companies, error } = await supabase\n        .from('companies')\n        .select('id, name, logo_url');\n\n      if (error) throw error;\n\n      let updated = 0;\n      let failed = 0;\n\n      for (const company of companies) {\n        try {\n          const newLogoUrl = await this.getLogoUrl(company.name, company.logo_url);\n          \n          // Only update if the URL changed\n          if (newLogoUrl !== company.logo_url) {\n            const { error: updateError } = await supabase\n              .from('companies')\n              .update({ logo_url: newLogoUrl })\n              .eq('id', company.id);\n\n            if (updateError) {\n              console.error(`‚ùå Failed to update ${company.name}:`, updateError);\n              failed++;\n            } else {\n              console.log(`‚úÖ Updated ${company.name}: ${newLogoUrl}`);\n              updated++;\n            }\n          }\n        } catch (companyError) {\n          console.error(`‚ùå Error with ${company.name}:`, companyError);\n          failed++;\n        }\n      }\n\n      console.log(`üéâ Migration complete: ${updated} updated, ${failed} failed`);\n      return { updated, failed };\n\n    } catch (error) {\n      console.error('‚ùå Migration failed:', error);\n      return { updated: 0, failed: 0 };\n    }\n  }\n\n  // NEW: Get logo status report\n  static async getLogoStatus(): Promise<{ withLogos: number; withoutLogos: number; total: number }> {\n    try {\n      const { data: companies, error } = await supabase\n        .from('companies')\n        .select('logo_url');\n\n      if (error) {\n        console.error('‚ùå Error fetching logo status:', error);\n        return { withLogos: 0, withoutLogos: 0, total: 0 };\n      }\n\n      const withLogos = companies.filter(company => \n        this.isValidLogoUrl(company.logo_url)\n      ).length;\n      \n      const withoutLogos = companies.length - withLogos;\n\n      console.log(`üìä Logo status: ${withLogos} with logos, ${withoutLogos} without logos`);\n      \n      return {\n        withLogos,\n        withoutLogos,\n        total: companies.length\n      };\n\n    } catch (error) {\n      console.error('‚ùå Unexpected error in getLogoStatus:', error);\n      return { withLogos: 0, withoutLogos: 0, total: 0 };\n    }\n  }\n\n  // NEW: Check storage bucket status\n  static async getStorageStatus(): Promise<{ exists: boolean; fileCount?: number }> {\n    try {\n      const { data, error } = await supabase.storage\n        .from('logos')\n        .list();\n\n      if (error) {\n        console.error('‚ùå Storage bucket error:', error);\n        return { exists: false };\n      }\n\n      return { \n        exists: true, \n        fileCount: data.length \n      };\n    } catch (error) {\n      console.error('‚ùå Storage check failed:', error);\n      return { exists: false };\n    }\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 645, "column": 0}, "map": {"version":3,"sources":["file:///Users/syvoliamary/Downloads/jobboardpro/components/admin/LogoUploadPanel.tsx"],"sourcesContent":["// components/admin/LogoUploadPanel.tsx\n\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport { Upload, Image, CheckCircle, XCircle, RefreshCw } from \"lucide-react\";\nimport { LogoUploadService, UploadResult } from \"@/services/logoUploadService\";\nimport { JobService } from \"@/services/jobService\";\n\ninterface UploadProgress {\n  [companyName: string]: \"uploading\" | \"success\" | \"error\";\n}\n\nexport function LogoUploadPanel() {\n  const [uploading, setUploading] = useState(false);\n  const [results, setResults] = useState<UploadResult[]>([]);\n  const [progress, setProgress] = useState<UploadProgress>({});\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = async (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    const files = Array.from(event.target.files || []);\n    if (files.length === 0) return;\n\n    setUploading(true);\n    setResults([]);\n\n    // Extract company names from file names\n    const uploadFiles = files.map((file) => {\n      const companyName = file.name\n        .replace(/\\.[^/.]+$/, \"\") // Remove extension\n        .replace(/[-_]/g, \" \") // Replace underscores and dashes with spaces\n        .replace(/\\b\\w/g, (l) => l.toUpperCase()); // Capitalize words\n\n      return { file, companyName };\n    });\n\n    // Update progress\n    const newProgress: UploadProgress = {};\n    uploadFiles.forEach(({ companyName }) => {\n      newProgress[companyName] = \"uploading\";\n    });\n    setProgress(newProgress);\n\n    // Upload files\n    const uploadResults = await LogoUploadService.uploadMultipleLogos(\n      uploadFiles\n    );\n\n    // Update progress with results\n    const finalProgress: UploadProgress = {};\n    uploadResults.forEach((result) => {\n      finalProgress[result.companyName] = result.success ? \"success\" : \"error\";\n    });\n    setProgress(finalProgress);\n\n    setResults(uploadResults);\n    setUploading(false);\n\n    // Clear file input\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  const migrateDatabaseLogos = async () => {\n    setUploading(true);\n    const result = await JobService.migrateToSupabaseStorage();\n    setUploading(false);\n\n    alert(\n      `Migration complete: ${result.updated} updated, ${result.failed} failed`\n    );\n  };\n\n  const successfulUploads = results.filter((r) => r.success).length;\n  const failedUploads = results.filter((r) => !r.success).length;\n\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      <div className=\"flex items-center space-x-3 mb-6\">\n        <Image className=\"w-6 h-6 text-blue-600\" />\n        <h3 className=\"text-lg font-semibold text-gray-900\">\n          Company Logo Management\n        </h3>\n      </div>\n\n      {/* File Upload */}\n      <div className=\"mb-6\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n          Upload Company Logos\n        </label>\n\n        <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            multiple\n            accept=\"image/jpeg,image/jpg,image/png,image/svg+xml\"\n            onChange={handleFileSelect}\n            className=\"hidden\"\n            id=\"logo-upload\"\n          />\n\n          <label\n            htmlFor=\"logo-upload\"\n            className=\"cursor-pointer flex flex-col items-center space-y-3\"\n          >\n            <Upload className=\"w-8 h-8 text-gray-400\" />\n            <div>\n              <span className=\"text-blue-600 font-medium\">Click to upload</span>\n              <span className=\"text-gray-500\"> or drag and drop</span>\n            </div>\n            <p className=\"text-sm text-gray-500\">\n              PNG, JPG, SVG up to 5MB. File name will be used as company name.\n            </p>\n          </label>\n        </div>\n      </div>\n\n      {/* Upload Results */}\n      {results.length > 0 && (\n        <div className=\"mb-6\">\n          <div className=\"flex justify-between items-center mb-3\">\n            <h4 className=\"font-medium text-gray-900\">Upload Results</h4>\n            <span className=\"text-sm text-gray-500\">\n              {successfulUploads} successful, {failedUploads} failed\n            </span>\n          </div>\n\n          <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n            {results.map((result, index) => (\n              <div\n                key={index}\n                className={`flex items-center justify-between p-3 rounded-lg ${\n                  result.success\n                    ? \"bg-green-50 border border-green-200\"\n                    : \"bg-red-50 border border-red-200\"\n                }`}\n              >\n                <span className=\"font-medium\">{result.companyName}</span>\n                <div className=\"flex items-center space-x-2\">\n                  {result.success ? (\n                    <>\n                      <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                      <span className=\"text-sm text-green-600\">Uploaded</span>\n                    </>\n                  ) : (\n                    <>\n                      <XCircle className=\"w-4 h-4 text-red-600\" />\n                      <span className=\"text-sm text-red-600\">\n                        {result.error}\n                      </span>\n                    </>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Migration Button */}\n      <div className=\"border-t pt-4\">\n        <button\n          onClick={migrateDatabaseLogos}\n          disabled={uploading}\n          className=\"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n        >\n          {uploading ? (\n            <RefreshCw className=\"w-4 h-4 animate-spin\" />\n          ) : (\n            <RefreshCw className=\"w-4 h-4\" />\n          )}\n          <span>Migrate Database to Use New Logos</span>\n        </button>\n        <p className=\"text-sm text-gray-500 mt-2\">\n          This will update all company records to use the uploaded logos from\n          Supabase Storage.\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 995, "column": 0}, "map": {"version":3,"sources":["file:///Users/syvoliamary/Downloads/jobboardpro/app/admin/page.tsx"],"sourcesContent":["// app/admin/page.tsx\n\"use client\";\n\nimport { LogoUploadPanel } from \"@/components/admin/LogoUploadPanel\";\nimport { JobService } from \"@/services/jobService\";\nimport { useState, useEffect } from \"react\";\nimport { Shield, Image, Database, RefreshCw } from \"lucide-react\";\n\nexport default function AdminPage() {\n  const [logoStatus, setLogoStatus] = useState<{\n    withLogos: number;\n    withoutLogos: number;\n    total: number;\n  } | null>(null);\n  const [storageStatus, setStorageStatus] = useState<{\n    exists: boolean;\n    fileCount?: number;\n  } | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const loadStatus = async () => {\n    setLoading(true);\n    try {\n      const [logoStatusResult, storageStatusResult] = await Promise.all([\n        JobService.getLogoStatus(),\n        JobService.getStorageStatus(),\n      ]);\n      setLogoStatus(logoStatusResult);\n      setStorageStatus(storageStatusResult);\n    } catch (error) {\n      console.error(\"Error loading status:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadStatus();\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center space-x-3 mb-2\">\n            <Shield className=\"w-8 h-8 text-blue-600\" />\n            <h1 className=\"text-3xl font-bold text-gray-900\">Admin Panel</h1>\n          </div>\n          <p className=\"text-gray-600\">\n            Manage company logos and system settings\n          </p>\n        </div>\n\n        {/* Status Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n          {/* Logo Status */}\n          <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                Logo Status\n              </h3>\n              <Image className=\"w-5 h-5 text-blue-600\" />\n            </div>\n\n            {loading ? (\n              <div className=\"animate-pulse\">\n                <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n                <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n              </div>\n            ) : logoStatus ? (\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Total Companies:</span>\n                  <span className=\"font-semibold\">{logoStatus.total}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-green-600\">With Logos:</span>\n                  <span className=\"font-semibold text-green-600\">\n                    {logoStatus.withLogos}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-red-600\">Without Logos:</span>\n                  <span className=\"font-semibold text-red-600\">\n                    {logoStatus.withoutLogos}\n                  </span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div\n                    className=\"bg-green-600 h-2 rounded-full transition-all\"\n                    style={{\n                      width: `${\n                        logoStatus.total > 0\n                          ? (logoStatus.withLogos / logoStatus.total) * 100\n                          : 0\n                      }%`,\n                    }}\n                  ></div>\n                </div>\n              </div>\n            ) : (\n              <p className=\"text-gray-500\">Unable to load logo status</p>\n            )}\n          </div>\n\n          {/* Storage Status */}\n          <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                Storage Status\n              </h3>\n              <Database className=\"w-5 h-5 text-blue-600\" />\n            </div>\n\n            {loading ? (\n              <div className=\"animate-pulse\">\n                <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n                <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n              </div>\n            ) : storageStatus ? (\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Bucket Status:</span>\n                  <span\n                    className={`font-semibold ${\n                      storageStatus.exists ? \"text-green-600\" : \"text-red-600\"\n                    }`}\n                  >\n                    {storageStatus.exists ? \"Active\" : \"Not Found\"}\n                  </span>\n                </div>\n                {storageStatus.exists && (\n                  <>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">Files Uploaded:</span>\n                      <span className=\"font-semibold\">\n                        {storageStatus.fileCount || 0}\n                      </span>\n                    </div>\n                    {storageStatus.fileCount === 0 && (\n                      <p className=\"text-sm text-yellow-600\">\n                        No logos uploaded yet. Use the upload panel below.\n                      </p>\n                    )}\n                  </>\n                )}\n                {!storageStatus.exists && (\n                  <p className=\"text-sm text-red-600\">\n                    Storage bucket not configured. Run the SQL setup commands.\n                  </p>\n                )}\n              </div>\n            ) : (\n              <p className=\"text-gray-500\">Unable to load storage status</p>\n            )}\n          </div>\n        </div>\n\n        {/* Refresh Button */}\n        <div className=\"flex justify-end mb-6\">\n          <button\n            onClick={loadStatus}\n            disabled={loading}\n            className=\"flex items-center space-x-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 disabled:opacity-50\"\n          >\n            <RefreshCw className={`w-4 h-4 ${loading ? \"animate-spin\" : \"\"}`} />\n            <span>Refresh Status</span>\n          </button>\n        </div>\n\n        {/* Logo Upload Panel */}\n        <LogoUploadPanel />\n\n        {/* Setup Instructions */}\n        {storageStatus && !storageStatus.exists && (\n          <div className=\"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-6\">\n            <h3 className=\"text-lg font-semibold text-yellow-800 mb-3\">\n              Setup Required\n            </h3>\n            <p className=\"text-yellow-700 mb-4\">\n              The Supabase storage bucket is not configured. Please run these\n              SQL commands in your Supabase dashboard:\n            </p>\n            <div className=\"bg-black text-green-400 p-4 rounded-lg font-mono text-sm overflow-x-auto\">\n              {`-- Create the logos bucket\\nINSERT INTO storage.buckets (id, name, public) \\nVALUES ('logos', 'company-logos', true)\\nON CONFLICT (id) DO NOTHING;\\n\\n-- Allow public read access to logos\\nCREATE POLICY \"Public can view logos\" ON storage.objects\\nFOR SELECT USING (bucket_id = 'logos');\\n\\n-- Allow authenticated users to upload logos\\nCREATE POLICY \"Users can upload logos\" ON storage.objects\\nFOR INSERT WITH CHECK (\\n  bucket_id = 'logos' \\n  AND auth.role() = 'authenticated'\\n);`}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}